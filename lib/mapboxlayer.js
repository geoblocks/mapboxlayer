import t from"ol/layer/Layer";import{toDegrees as e}from"ol/math";import{toLonLat as s}from"ol/proj.js";import o from"mapbox-gl";export default class extends t{constructor(t){const e=Object.assign({},t);delete e.accessToken,delete e.style,delete e.container,delete e.xyz,super(e),this.xyz_=t.xyz,t.accessToken&&(o.accessToken=t.accessToken),this.map_=new o.Map({container:t.container,style:t.style,attributionControl:!1,interactive:!1})}getMapBoxMap(){return this.map_}render(t){const o=this.map_.getCanvas(),a=t.viewState;o.style.position="absolute";const i=this.getVisible();o.style.display=i?"block":"none";const r=this.getOpacity().toString();r!==o.style.opacity&&(o.style.opacity=r);const n=a.rotation;return n&&this.map_.rotateTo(e(-n),{animate:!1}),this.map_.jumpTo({center:s(a.center),zoom:a.zoom-1,animate:!1}),this.map_._frame&&(this.map_._frame.cancel(),this.map_._frame=null),this.map_._render(),o}setLayerVisibility(t,e){this.map_.setLayoutProperty(t,"visibility",e?"visible":"none")}getStyle(){return this.map_.getStyle()}getXYZ(){return this.xyz_}}
//# sourceMappingURL=mapboxlayer.js.map
